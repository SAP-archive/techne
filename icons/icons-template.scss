@import "../core/settings";
@import "../core/mixins";
@import "../core/functions";

@font-face {
    font-family: '<%= fontName %>';
    src: url('<%= fontName %>.woff2') format('woff2'),
        url('<%= fontName %>.woff') format('woff');
    font-weight: normal;
    font-style: normal;
}

//icon map
$tn-icons: (
<% _.each(glyphs, function(glyph) { %>
    <%= glyph.name %>: "\<%= glyph.codepoint.toString(16) %>",
<% }); %>
) !default;

$block: ns(<%= className %>);

/*
//TODO: finish mixin
@mixin <%= className %>($key, $size) {
    @if map-has-key($tn-icons, $size) {
        &::before {
            content: map-get($tn-icons, $key);
            @content;
        }
    } @else {
        @warn "Unknown `#{$key}` in $tn-icons map";
    }
}
*/

[class*="#{$block}"] {
    font-family: '<%= fontName %>';
    &::before {
        display: inline-block;
        vertical-align: middle;
        font-family: "<%= fontName %>";
        font-style: normal;
        font-weight: normal;
        speak: none;
        line-height: 1;
        text-decoration: inherit;
        text-transform: none;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }
}

.#{$block} {
    @each $key, $value in $tn-icons {
        &--#{$key} {
            &::before {
                content: $value;
            }
        }
    }
}
