{#
    see ./data.json for object structure
#}

{% macro pagination(properties={}) %}
{%- set currentPage = properties.currentPage -%}
{%- set totalItems = properties.totalItems -%}
{%- set itemsPerPage = properties.itemsPerPage -%}

<ul class="tn-pagination">

    <span class="tn-pagination__total">{{totalItems}} items</span>

    <li class="tn-pagination__item">
        {% if currentPage === 1 %}
            <a href="#" class="tn-pagination__link" aria-label="Previous" aria-disabled="true">
        {% else %}
            <a href="#" class="tn-pagination__link" aria-label="Previous">
        {% endif %}
            <span aria-hidden="true"><<</span>
        </a>
    </li>

    {% if totalItems/itemsPerPage < 4 %}
        {% for item in range(1, totalItems/itemsPerPage + 1) %}
        <li class="tn-pagination__item">
            {% if item === currentPage %}
                <a href="#" class="tn-pagination__link" aria-selected="true">{{item}}</a>
            {% else %}
                <a href="#" class="tn-pagination__link">{{item}}</a>
            {% endif %}
        </li>
        {% endfor %}
    {% elseif (currentPage === totalItems/itemsPerPage) or (currentPage === totalItems/itemsPerPage + 1) %}
        <li class="tn-pagination__item">
            <a href="#" class="tn-pagination__link">1</a>
        </li>
        {% for item in range(totalItems/itemsPerPage, totalItems/itemsPerPage+1) %}
            <li class="tn-pagination__item">
                <span class="tn-pagination__link tn-pagination__more"
                    aria-hidden="true"
                    aria-label="..."
                    role="presentation">&#8226;&#8226;&#8226;</span>
            </li>
            {% if (item === currentPage) %}
                <li class="tn-pagination__item">
                    <a href="#" class="tn-pagination__link">{{totalItems/itemsPerPage - 1}}</a>
                </li>
            {% endif %}
            <li class="tn-pagination__item">
                {% if (item === currentPage) or (item === totalItems/itemsPerPage + 1) %}
                    <a href="#" class="tn-pagination__link" aria-selected="true">{{item}}</a>
                {% else %}
                    <a href="#" class="tn-pagination__link">{{item}}</a>
                {% endif %}
            </li>
        {% endfor %}
    {% else %}
        {% for item in range(1, 4) %}
            <li class="tn-pagination__item">
                {% if item === currentPage %}
                    <a href="#" class="tn-pagination__link" aria-selected="true">{{item}}</a>
                {% else %}
                    <a href="#" class="tn-pagination__link">{{item}}</a>
                {% endif %}
            </li>
        {% endfor %}
        {% for item in range(totalItems/itemsPerPage, totalItems/itemsPerPage+1) %}
                <li class="tn-pagination__item">
                <span class="tn-pagination__link tn-pagination__more"
                    aria-hidden="true"
                    aria-label="..."
                    role="presentation">&#8226;&#8226;&#8226;</span>
            </li>
            {% if (item === currentPage) %}
                <li class="tn-pagination__item">
                    <a href="#" class="tn-pagination__link">{{totalItems/itemsPerPage - 1}}</a>
                </li>
            {% endif %}
            <li class="tn-pagination__item">
                {% if (item === currentPage) or (item === totalItems/itemsPerPage + 1) %}
                    <a href="#" class="tn-pagination__link" aria-selected="true">{{item}}</a>
                {% else %}
                    <a href="#" class="tn-pagination__link">{{item}}</a>
                {% endif %}
            </li>
            {% endfor %}
    {% endif %}


    <li class="tn-pagination__item">
        {% if currentPage === totalItems/itemsPerPage | round(0) %}
            <a href="#" class="tn-pagination__link" aria-label="Previous" aria-disabled="true">
        {% else %}
            <a href="#" class="tn-pagination__link" aria-label="Previous">
        {% endif %}
            <span aria-hidden="true">>></span>
        </a>
    </li>
</ul>
<br>

{% endmacro %}
