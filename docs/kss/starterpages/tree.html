<!DOCTYPE html>
<head>
    <title>SAP Hybris Techn√©: Layout Template - Tree</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../public/dist/techne/css/techne.min.css">
</head>
<body class="use-techne-header">
    <div class="wrapper">

        <!-- page header  -->
        <div class="navbar navbar-default y-navbar-centered y-navbar-lg navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-left">
                    <div class="y-toolbar">
                        <div class="y-toolbar-cell">
                            <button class="btn-subordinate btn navbar-btn">
                                <span class="hyicon hyicon-back"></span> <span class="hidden-xs">Back</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="y-navbar-center">
                    <div class="y-navbar-center-content">
                        <h1>Page Title</h1>
                    </div>
                </div>
                <div class="navbar-right">
                </div>
            </div>
        </div>

        <div class="container-fluid body-content">

            <!-- page level help -->
            <span class="page-level-help-message">Page level help message goes here</span>

            <div class="row">

                <button class="y-add-btn" type="button">
                    <span class="hyicon hyicon-add"></span>
                    VALUE
                </button>

                <!-- tree -->
                <div class="y-tree">

                    <!-- tree header -->
                    <div class="y-tree-header">
                        <div class="row tree-head hidden-sm hidden-xs">
                        <div class="col-sm-4">
                            <div class="col-sm-1">
                                <a  class="btn btn-link category-toggle expand-collapse-all" 
                                    title="Expand All" 
                                    aria-expanded="false">
                                    <span class="hyicon hyicon-chevron"></span>
                                </a>
                            </div>
                            <div class="col-sm-10">Data Header</div>
                        </div>
                        <div class="col-sm-3">Data Header</div>
                        <div class="col-sm-3">Data Header</div>
                        </div>
                        <div class="row tree-head visible-sm visible-xs">
                            <div class="col-xs-1">    
                                <a  class="btn btn-link category-toggle expand-collapse-all" 
                                    title="Expand All" 
                                    aria-expanded="false">
                                    <span class="hyicon hyicon-chevron"></span>
                                </a>
                            </div>
                            <div class="col-xs-9">Data Header</div>
                        </div>
                    </div>
                    <!-- /tree header -->

                    <!-- parent node 1 -->
                    <div class="y-tree-row active-level" data-level="1" aria-expanded="false">

                        <!-- mobile row -->
                        <div class="row mobile-layout collapse visible-xs visible-sm">
                            <div class="col-xs-1">
                                <a  class="btn btn-link category-toggle"
                                    data-toggle-id="toggle-1"
                                    aria-expanded="false" 
                                    title="Expand">
                                <span class="hyicon hyicon-chevron"></span>
                                </a>
                            </div>
                            <div class="col-xs-9">
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span>
                                    <p class="primaryData"><a href="">First Level</a></p>
                                </div>
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span> 
                                    <p>Secondary Value</p>
                                </div>
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span> 
                                    <p>Secondary Value</p>
                                </div>
                                <p class="statusDataValue">
                                    <span>Inactive</span>
                                </p>
                            </div>
                            <div class="mobile-more-menu">
                                <div class="dropdown">
                                    <a  class="btn btn-link btn-lg dropdown-toggle" 
                                        role="button" 
                                        aria-haspopup="true" 
                                        aria-expanded="false" 
                                        data-toggle="dropdown">
                                    <span class="hyicon hyicon-more"></span>
                                    </a>
                                    <ul class="dropdown-menu pull-right text-left" role="menu">
                                        <li><a href="#">Edit Category Details</a></li>
                                        <li><a href="#">Add Child Category</a></li>
                                        <li class="divider"></li>
                                        <li><a >Delete Category</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /mobile row -->

                        <!-- desktop row -->
                        <div class="row desktop-layout collapse visible-md visible-lg">
                            <div class="col-sm-4">
                                <div class="col-sm-1">
                                    <a  class="btn btn-link category-toggle" 
                                        data-toggle-id="toggle-1"
                                        title="Expand" 
                                        aria-expanded="false">
                                    <span class="hyicon hyicon-chevron"></span>
                                    </a>
                                </div>
                                <div class="col-sm-10">
                                    <p class="primaryData"><a href="">First Level</a></p>
                                </div>
                            </div>
                            <div class="col-sm-3">Secondary Value</div>
                            <div class="col-sm-3">Secondary Value</div>
                            <div class="col-sm-2">
                                <span class="statusDataValue">
                                <span>Inactive</span>
                                </span>
                                <div class="dropdown pull-right">
                                    <a  class="btn btn-link btn-lg dropdown-toggle" 
                                        role="button" 
                                        aria-haspopup="true" 
                                        aria-expanded="false" 
                                        data-toggle="dropdown">
                                    <span class="hyicon hyicon-more"></span>
                                    </a>
                                    <ul class="dropdown-menu pull-right text-left" role="menu">
                                        <li><a href="#">Edit Category Details</a></li>
                                        <li><a href="#">Add Child Category</a></li>
                                        <li class="divider"></li>
                                        <li><a >Delete Category</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /desktop row -->

                        <!-- Second Level 1 -->
                        <div class="y-tree-row child-row collapse" id="toggle-1" data-level="2" aria-expanded="false">

                            <!-- child 1.1 -->
                            <!-- mobile row -->
                            <div class="row mobile-layout visible-xs visible-sm">
                                <div class="col-xs-1 col-xs-offset-1">
                                    <a  class="btn btn-link category-toggle" 
                                        data-toggle-id="toggle-1-1"
                                        title="Expand" 
                                        aria-expanded="false">
                                    <span class="hyicon hyicon-chevron"></span>
                                    </a>
                                </div>
                                <div class="col-xs-8">
                                    <div class="mobile-data">
                                        <span class="tree-head">Data Header</span>
                                        <p class="primaryData"><a href="">Second Level</a></p>
                                    </div>
                                    <div class="mobile-data">
                                        <span class="tree-head">Data Header</span> 
                                        <p>Secondary Value</p>
                                    </div>
                                    <div class="mobile-data">
                                        <span class="tree-head">Data Header</span> 
                                        <p>Secondary Value</p>
                                    </div>
                                    <p class="statusDataValue">
                                        <span>Default</span>
                                    </p>
                                </div>
                                <div class="mobile-more-menu">
                                    <div class="dropdown">
                                        <a  class="btn btn-link btn-lg dropdown-toggle" 
                                            role="button" 
                                            aria-haspopup="true" 
                                            aria-expanded="false" 
                                            data-toggle="dropdown">
                                        <span class="hyicon hyicon-more"></span>
                                        </a>
                                        <ul class="dropdown-menu pull-right text-left" role="menu">
                                            <li><a href="#">Edit Category Details</a></li>
                                            <li><a href="#">Add Child Category</a></li>
                                            <li class="divider"></li>
                                            <li><a >Delete Category</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!-- /mobile row -->
                            
                            <!-- desktop row -->
                            <div class="row desktop-layout visible-md visible-lg">
                                <div class="col-sm-4">
                                    <div class="col-sm-1 col-sm-offset-1">
                                        <a  class="btn btn-link category-toggle" 
                                            data-toggle-id="toggle-1-1"
                                            aria-expanded="false" 
                                            title="Expand">
                                        <span class="hyicon hyicon-chevron"></span>
                                        </a>
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="primaryData"><a href="">Second Level</a></p>
                                    </div>
                                </div>
                                <div class="col-sm-3">Secondary Value</div>
                                <div class="col-sm-3">Secondary Value</div>
                                <div class="col-sm-2">
                                    <span class="statusDataValue">
                                    <span>Default</span>
                                    </span>
                                    <div class="dropdown pull-right">
                                        <a  class="btn btn-link btn-lg dropdown-toggle" 
                                            role="button" 
                                            aria-haspopup="true" 
                                            aria-expanded="false" 
                                            data-toggle="dropdown">
                                        <span class="hyicon hyicon-more"></span>
                                        </a>
                                        <ul class="dropdown-menu pull-right text-left" role="menu">
                                            <li><a href="#">Edit Category Details</a></li>
                                            <li><a href="#">Add Child Category</a></li>
                                            <li class="divider"></li>
                                            <li><a >Delete Category</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!-- /desktop row -->
                            
                            <!-- Second Level 1.1 -->
                            <div class="y-tree-row child-row collapse" id="toggle-1-1" data-level="3" aria-expanded="false">
                            
                                <!-- child 1.1.1 -->
                                <!-- mobile row -->
                                <div class="row mobile-layout visible-xs visible-sm">
                                    <div class="col-xs-1 col-xs-offset-2">
                                    </div>
                                    <div class="col-xs-8">
                                        <div class="mobile-data">
                                            <span class="tree-head">Data Header</span>
                                            <p class="primaryData"><a href="">Second Level</a></p>
                                        </div>
                                        <div class="mobile-data">
                                            <span class="tree-head">Data Header</span> 
                                            <p>Secondary Value</p>
                                        </div>
                                        <div class="mobile-data">
                                            <span class="tree-head">Data Header</span> 
                                            <p>Secondary Value</p>
                                        </div>
                                        <p class="statusDataValue">
                                            <span>Default</span>
                                        </p>
                                    </div>
                                    <div class="mobile-more-menu">
                                        <div class="dropdown">
                                            <a  class="btn btn-link btn-lg dropdown-toggle" 
                                                role="button" 
                                                aria-haspopup="true" 
                                                aria-expanded="false" 
                                                data-toggle="dropdown">
                                            <span class="hyicon hyicon-more"></span>
                                            </a>
                                            <ul class="dropdown-menu pull-right text-left" role="menu">
                                                <li><a href="#">Edit Category Details</a></li>
                                                <li><a href="#">Add Child Category</a></li>
                                                <li class="divider"></li>
                                                <li><a >Delete Category</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <!-- /mobile row -->
                                                            
                                <!-- desktop row -->
                                <div class="row desktop-layout visible-md visible-lg">
                                    <div class="col-sm-4">
                                        <div class="col-sm-1 col-sm-offset-2">
                                        </div>
                                        <div class="col-sm-8">
                                            <p class="primaryData"><a href="">Third Level</a></p>
                                        </div>
                                    </div>
                                    <div class="col-sm-3">Secondary Value</div>
                                    <div class="col-sm-3">Secondary Value</div>
                                    <div class="col-sm-2">
                                        <span class="statusDataValue">
                                        <span>Default</span>
                                        </span>
                                        <div class="dropdown pull-right">
                                            <a  class="btn btn-link btn-lg dropdown-toggle" 
                                                role="button" 
                                                aria-haspopup="true" 
                                                aria-expanded="false" 
                                                data-toggle="dropdown">
                                            <span class="hyicon hyicon-more"></span>
                                            </a>
                                            <ul class="dropdown-menu pull-right text-left" role="menu">
                                                <li><a href="#">Edit Category Details</a></li>
                                                <li><a href="#">Add Child Category</a></li>
                                                <li class="divider"></li>
                                                <li><a >Delete Category</a></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <!-- /desktop row -->
                                <!-- /child 1.1.1 -->
                            
                            </div>
                            <!-- /Second Level 1.1 -->
                            <!-- /child 1.1 -->

                        </div>
                        <!-- /Second Level 1 -->

                    </div>
                    <!-- /parent node 1 -->
                    <!-- parent node 2 -->

                    <div class="y-tree-row active-level" data-level="1" aria-expanded="false">
                    
                        <!-- mobile row -->
                        <div class="row mobile-layout collapse visible-xs visible-sm">
                            <div class="col-xs-1">
                                <a class="btn btn-link category-toggle" 
                                title="Expand" 
                                data-toggle-id="toggle-2"
                                aria-expanded="false">
                                <span class="hyicon hyicon-chevron"></span>
                                </a>
                            </div>
                            <div class="col-xs-9">
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span>
                                    <p class="primaryData"><a href="">First Level</a></p>
                                </div>
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span> 
                                    <p>Secondary Value</p>
                                </div>
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span> 
                                    <p>Secondary Value</p>
                                </div>
                                <p class="statusDataValue">
                                    <span>Inactive</span>
                                </p>
                            </div>
                            <div class="mobile-more-menu">
                                <div class="dropdown">
                                    <a href="" class="btn btn-link btn-lg dropdown-toggle" role="button" 
                                        aria-haspopup="true" aria-expanded="false" data-toggle="dropdown">
                                    <span class="hyicon hyicon-more"></span>
                                    </a>
                                    <ul class="dropdown-menu pull-right text-left" role="menu">
                                        <li><a href="#">Edit Category Details</a></li>
                                        <li><a href="#">Add Child Category</a></li>
                                        <li class="divider"></li>
                                        <li><a >Delete Category</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /mobile row -->

                        <!-- desktop row -->
                        <div class="row desktop-layout collapse visible-md visible-lg">
                            <div class="col-sm-4">
                                <div class="col-sm-1">
                                    <a  class="btn btn-link category-toggle" 
                                        data-toggle-id="toggle-2"
                                        title="Expand" 
                                        aria-expanded="false">
                                    <span class="hyicon hyicon-chevron"></span>
                                    </a>
                                </div>
                                <div class="col-sm-10">
                                    <p class="primaryData"><a href="">First Level</a></p>
                                </div>
                            </div>
                            <div class="col-sm-3">Secondary Value</div>
                            <div class="col-sm-3">Secondary Value</div>
                            <div class="col-sm-2">
                                <span class="statusDataValue">
                                <span>Inactive</span>
                                </span>
                                <div class="dropdown pull-right">
                                    <a href="" class="btn btn-link btn-lg dropdown-toggle" role="button" 
                                        aria-haspopup="true" aria-expanded="false" data-toggle="dropdown">
                                    <span class="hyicon hyicon-more"></span>
                                    </a>
                                    <ul class="dropdown-menu pull-right text-left" role="menu">
                                        <li><a href="#">Edit Category Details</a></li>
                                        <li><a href="#">Add Child Category</a></li>
                                        <li class="divider"></li>
                                        <li><a >Delete Category</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /desktop row -->

                        <!-- Second Level 2 -->
                        <div class="y-tree-row collapse child-row" id="toggle-2" data-level="2" aria-expanded="false">
                            
                            <!-- child 2.1 -->
                            <!-- mobile row -->
                            <div class="row mobile-layout visible-xs visible-sm">
                                <div class="col-xs-1 col-xs-offset-1">
                                </div>
                                <div class="col-xs-8">
                                    <div class="mobile-data">
                                        <span class="tree-head">Data Header</span>
                                        <p class="primaryData"><a href="">Second Level</a></p>
                                    </div>
                                    <div class="mobile-data">
                                        <span class="tree-head">Data Header</span> 
                                        <p>Secondary Value</p>
                                    </div>
                                    <div class="mobile-data">
                                        <span class="tree-head">Data Header</span> 
                                        <p>Secondary Value</p>
                                    </div>
                                    <p class="statusDataValue">
                                        <span>Default</span>
                                    </p>
                                </div>
                                <div class="mobile-more-menu">
                                    <div class="dropdown">
                                        <a href="" class="btn btn-link btn-lg dropdown-toggle" role="button" 
                                            aria-haspopup="true" aria-expanded="false" data-toggle="dropdown">
                                        <span class="hyicon hyicon-more"></span>
                                        </a>
                                        <ul class="dropdown-menu pull-right text-left" role="menu">
                                            <li><a href="#">Edit Category Details</a></li>
                                            <li><a href="#">Add Child Category</a></li>
                                            <li class="divider"></li>
                                            <li><a >Delete Category</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!-- mobile row -->
                            
                            <!-- desktop row -->
                            <div class="row desktop-layout visible-md visible-lg">
                                <div class="col-sm-4">
                                    <div class="col-sm-1 col-sm-offset-1">
                                    </div>
                                    <div class="col-sm-9">
                                        <p class="primaryData"><a href="">Second Level</a></p>
                                    </div>
                                </div>
                                <div class="col-sm-3">Secondary Value</div>
                                <div class="col-sm-3">Secondary Value</div>
                                <div class="col-sm-2">
                                    <span class="statusDataValue">
                                    <span>Default</span>
                                    </span>
                                    <div class="dropdown pull-right">
                                        <a href="" class="btn btn-link btn-lg dropdown-toggle" role="button" 
                                            aria-haspopup="true" aria-expanded="false" data-toggle="dropdown">
                                        <span class="hyicon hyicon-more"></span>
                                        </a>
                                        <ul class="dropdown-menu pull-right text-left" role="menu">
                                            <li><a href="#">Edit Category Details</a></li>
                                            <li><a href="#">Add Child Category</a></li>
                                            <li class="divider"></li>
                                            <li><a >Delete Category</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <!-- /desktop row -->
                            <!-- /child 2.1 -->

                        </div>
                        <!-- /Second Level 2 -->

                    </div>
                    <!-- /parent node 2 -->

                    <!-- parent node 3 -->
                    <div class="y-tree-row active-level" data-level="1" aria-expanded="false">

                        <!-- mobile row -->
                        <div class="row mobile-layout collapse visible-xs visible-sm">
                            <div class="col-xs-1">
                            </div>
                            <div class="col-xs-9">
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span>
                                    <p class="primaryData"><a href="">First Level</a></p>
                                </div>
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span> 
                                    <p>Secondary Value</p>
                                </div>
                                <div class="mobile-data">
                                    <span class="tree-head">Data Header</span> 
                                    <p>Secondary Value</p>
                                </div>
                                <p class="statusDataValue">
                                    <span>Inactive</span>
                                </p>
                            </div>
                            <div class="mobile-more-menu">
                                <div class="dropdown">
                                    <a href="" class="btn btn-link btn-lg dropdown-toggle" role="button" 
                                        aria-haspopup="true" aria-expanded="false" data-toggle="dropdown">
                                    <span class="hyicon hyicon-more"></span>
                                    </a>
                                    <ul class="dropdown-menu pull-right text-left" role="menu">
                                        <li><a href="#">Edit Category Details</a></li>
                                        <li><a href="#">Add Child Category</a></li>
                                        <li class="divider"></li>
                                        <li><a >Delete Category</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /mobile row -->

                        <!-- dekstop row -->
                        <div class="row desktop-layout collapse visible-md visible-lg">
                            <div class="col-sm-4">
                                <div class="col-sm-1">
                                </div>
                                <div class="col-sm-10">
                                    <p class="primaryData"><a href="">First Level</a></p>
                                </div>
                            </div>
                            <div class="col-sm-3">Secondary Value</div>
                            <div class="col-sm-3">Secondary Value</div>
                            <div class="col-sm-2">
                                <span class="statusDataValue">
                                <span>Inactive</span>
                                </span>
                                <div class="dropdown pull-right">
                                    <a href="" class="btn btn-link btn-lg dropdown-toggle" role="button" 
                                        aria-haspopup="true" aria-expanded="false" data-toggle="dropdown">
                                    <span class="hyicon hyicon-more"></span>
                                    </a>
                                    <ul class="dropdown-menu pull-right text-left" role="menu">
                                        <li><a href="#">Edit Category Details</a></li>
                                        <li><a href="#">Add Child Category</a></li>
                                        <li class="divider"></li>
                                        <li><a >Delete Category</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- desktop row -->

                    </div>
                    <!-- /node 3 -->

                </div>
                <!-- /tree -->
                
            </div>

            <div class="spacer-margin-20"></div>

        </div>

        <!-- SCRIPTS -->
        <script src="../public/js/jquery.min.js"></script>
        <script src="../public/js/bootstrap.min.js"></script>
        <script src="../public/js/select2.js"></script>

        <!-- tree interactivity -->
        <script>

            $(function(){

                // expand collapse individual rows
                $('.y-tree-row .category-toggle').on('click', function(){

                    var _this = $(this),
                        toggleId            = '#' + _this.attr("data-toggle-id"),
                        currentRow          = _this.parents('.y-tree-row'),
                        expandCheckParent   = _this.attr('aria-expanded');

                    if( expandCheckParent === 'false' ) {

                        $(toggleId).collapse('show');
                        currentRow.attr('aria-expanded', true);
                        _this.attr('aria-expanded', true);

                    } else if ( expandCheckParent === 'true' ) {

                        $(toggleId).collapse('hide');
                        $(toggleId).find('.y-tree-row').collapse('hide');
                        $(toggleId).find('.category-toggle').attr('aria-expanded', false);
                        currentRow.attr('aria-expanded', false);
                        _this.attr('aria-expanded', false);

                    }

                    setLowestRowActive();

                });


                // expand collapse all rows
                $('.expand-collapse-all').on('click', function(){

                    
                    var expandCheck = $(this).attr('aria-expanded');

                    if( expandCheck === 'false' ) {
                        
                        $('#expand-collapse-all, .category-toggle').attr('aria-expanded', true);
                        $('.child-row').collapse('show');


                    } else if( expandCheck === 'true' ) {
                        
                        $('#expand-collapse-all, .category-toggle').attr('aria-expanded', false);
                        $('.child-row').collapse('hide');

                    }

                    setLowestRowActive();

                });

                // set the lowest expanded row as active
                function setLowestRowActive() {
                    
                    var allExpandedRows = $(".y-tree-row[aria-expanded='true']"),
                        lowestRow       =   1;

                    if ( allExpandedRows.length != 0 ){

                        lowestRow = Math.max.apply( Math, allExpandedRows.map(function() {
                                    return parseInt( $(this).attr('data-level'), 10 )
                                    })
                                    .get() );
                    }

                    $('.y-tree-row').removeClass('active-level').addClass('inactive-level');
                    $('.y-tree-row[data-level=' + lowestRow + ']').addClass('active-level');

                    if( lowestRow != 1 ){
                        $('.y-tree-row[data-level=' + lowestRow + ']').addClass('active-level--last');                        
                    }

                }

            });

        </script>

    </div>
</body>
</html>
