<!DOCTYPE html>
<head>
    <title>SAP Hybris Techn√©: Layout Template - Details</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../public/dist/techne/css/techne.min.css">
</head>
<body class="use-techne-header">
<div class="wrapper">

    <!-- page header  -->
    <div class="navbar navbar-default y-navbar-centered y-navbar-lg navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-left">
                <div class="y-toolbar">
                    <div class="y-toolbar-cell">
                        <button class="btn-subordinate btn navbar-btn">
                            <span class="hyicon hyicon-back"></span>
                            <span class="hidden-xs">Back</span>
                        </button>
                    </div>
                </div>
            </div>
            <div class="y-navbar-center">
                <div class="y-navbar-center-content">
                    <h1>Page Title</h1>
                </div>
            </div>
            <div class="navbar-right">
            </div>
        </div>
    </div>

    <div class="container-fluid body-content">
        <!-- page level help -->
        <span class="page-level-help-message">Page level help message goes here</span>
        <section>
            <!-- top panel -->
            <div class="row">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-4 col-md-3 col-xs-12" align="center">
                                <div class="thumbnail-shape">
                                    <div class="thumbnail__img thumbnail-shape--circle" id="avatar" style="background-image: url('/images/cat-avatar.jpg')"></div>
                                    <img src="" alt="" id="test"/>
                                    <div class="loading-container">
                                        <div class="spinner-wrapper">
                                            <div class="spinner image-uploading-spinner">
                                                <div class="spinner-container spinner-container1">
                                                    <div class="spinner-circle1"></div>
                                                    <div class="spinner-circle2"></div>
                                                    <div class="spinner-circle3"></div>
                                                    <div class="circle4"></div>
                                                </div>
                                                <div class="spinner-container spinner-container2">
                                                    <div class="spinner-circle1"></div>
                                                    <div class="spinner-circle2"></div>
                                                    <div class="spinner-circle3"></div>
                                                    <div class="circle4"></div>
                                                </div>
                                                <div class="spinner-container spinner-container3">
                                                    <div class="spinner-circle1"></div>
                                                    <div class="spinner-circle2"></div>
                                                    <div class="spinner-circle3"></div>
                                                    <div class="circle4"></div>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="thumbnail--loading-text">Loading image...</p>
                                    </div>
                                    <div class="thumbnail-action-btn-wrapper">
                                        <button class="btn btn-link" id="uploadImageBtn">Upload</button>
                                        <input type="file" id="imgInp"/>
                                        <button class="btn btn-danger" id="deleteImageBtn">Delete Image</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-8 col-md-9 col-xs-12">
                                <span class="badge badge-success">GOOD</span>
                                <div class="row">
                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label>Label</label>
                                            <p class="form-readonly-text form-readonly-text-lg">non editable value</p>
                                        </div>
                                        <div class="form-group">
                                            <label>Label</label>
                                            <input type="text" class="form-control input-lg">
                                                <span class="help-inline help-inline--tooltip">
                                                    <span class="hyicon hyicon-helpoff"></span>
                                                    <span class="help-block-inline ng-binding">
                                                        Additional help message goes here
                                                    </span>
                                                </span>
                                                <span class="help-inline">
                                                    <span class="help-block-inline">Start with a letter, use only alphanumeric characters 3-16 characters</span>
                                                </span>
                                            <p class="inline-hint-text"></p>
                                        </div>
                                    </div>

                                    <div class="col-xs-12 col-sm-6">
                                        <div class="form-group">
                                            <label>Creation Date</label>
                                            <p class="form-readonly-text form-readonly-text-lg">12/04/15</p>
                                        </div>
                                        <div class="form-group">
                                            <label>Version</label>
                                            <input type="text" class="form-control input-lg">
                                                <span class="help-inline help-inline--tooltip">
                                                    <span class="hyicon hyicon-helpoff"></span>
                                                    <span class="help-block-inline ng-binding">
                                                        Additional help message goes here
                                                    </span>
                                                </span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div><!-- /.row -->
        </section>

        <!-- cards  -->
        <section>
            <div class="section-header">
                <h2 class="section-headline">Headline (12)</h2>
            </div>
            <ul class="dataCards list-group">
                <li class="dataCard">
                    <div class="cardRow cardRowClickable">
                        <div class="row">
                            <div class="col-md-3 col-sm-3 col-xs-3 card_avatar--max-width">
                                <img src="../images/cat-avatar.jpg" class="thumbnail-shape-medium thumbnail-shape--circle">
                            </div>
                            <div class="col-md-9 col-sm-9 col-xs-9">
                                <p class="primaryData">user.name@email.com</p>
                                <p class="secondaryData">First name Last name</p>
                                <span class="label label-default">Inactive</span>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="dataCard">
                    <div class="cardRow cardRowClickable">
                        <div class="row">
                            <div class="col-md-3 col-sm-3 col-xs-3 card_avatar--max-width">
                                <img src="../images/cat-avatar.jpg" class="thumbnail-shape-medium thumbnail-shape--circle">
                            </div>
                            <div class="col-md-9 col-sm-9 col-xs-9">
                                <p class="primaryData">user.name@email.com</p>
                                <p class="secondaryData">First name Last name</p>
                                <span class="label label-default">Inactive</span>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="dataCard">
                    <div class="cardRow cardRowClickable">
                        <div class="row">
                            <div class="col-md-3 col-sm-3 col-xs-3 card_avatar--max-width">
                                <img src="../images/cat-avatar.jpg" class="thumbnail-shape-medium thumbnail-shape--circle">
                            </div>
                            <div class="col-md-9 col-sm-9 col-xs-9">
                                <p class="primaryData">user.name@email.com</p>
                                <p class="secondaryData">First name Last name</p>
                                <span class="label label-default">Inactive</span>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="dataCard">
                    <div class="cardRow cardRowClickable">
                        <div class="row">
                            <div class="col-md-3 col-sm-3 col-xs-3 card_avatar--max-width">
                                <img src="../images/cat-avatar.jpg" class="thumbnail-shape-medium thumbnail-shape--circle">
                            </div>
                            <div class="col-md-9 col-sm-9 col-xs-9">
                                <p class="primaryData">user.name@email.com</p>
                                <p class="secondaryData">First name Last name</p>
                                <span class="label label-default">Inactive</span>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="dataCard">
                    <div class="cardRow cardRowClickable">
                        <div class="row">
                            <div class="col-md-3 col-sm-3 col-xs-3 card_avatar--max-width">
                                <img src="../images/cat-avatar.jpg" class="thumbnail-shape-medium thumbnail-shape--circle">
                            </div>
                            <div class="col-md-9 col-sm-9 col-xs-9">
                                <p class="primaryData">user.name@email.com</p>
                                <p class="secondaryData">First name Last name</p>
                                <span class="label label-default">Inactive</span>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="dataCard">
                    <div class="cardRow cardRowClickable">
                        <div class="row">
                            <div class="col-md-3 col-sm-3 col-xs-3 card_avatar--max-width">
                                <img src="../images/cat-avatar.jpg" class="thumbnail-shape-medium thumbnail-shape--circle">
                            </div>
                            <div class="col-md-9 col-sm-9 col-xs-9">
                                <p class="primaryData">user.name@email.com</p>
                                <p class="secondaryData">First name Last name</p>
                                <span class="label label-default">Inactive</span>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            <div class="dataCard-seeall">
                <button class="btn btn-link">
                    <span>See All</span>
                    <span class="hyicon hyicon-chevron"></span>
                </button>
            </div>
            <hr>
        </section>

        <section>
            <div class="row">
                <table class="table table-striped table-hover techne-table">
                    <thead>
                    <th></th>
                    <th>Col 1</th>
                    <th>Col 2</th>
                    <th>Col 3</th>
                    </thead>
                    <tbody>
                    <tr class="techne-table-xs-left techne-table-xs-right">
                        <td class="techne-table-xs-left-slot">
                            <img src="../images/cat-avatar.jpg" class="thumbnail-shape-small thumbnail-shape--circle"/>
                        </td>
                        <td>
                            <div class="cellcontent">
                                <a href="#">test data</a>
                            </div>
                        </td>
                        <td data-th="Placed At" >
                            <div class="cellcontent">test data</div>
                        </td>
                        <td data-th="Customer Email" >
                            <div class="cellcontent">test data</div>
                        </td>
                    </tr>
                    <tr class="techne-table-xs-left techne-table-xs-right">
                        <td class="techne-table-xs-left-slot">
                            <img src="../images/cat-avatar.jpg" class="thumbnail-shape-small thumbnail-shape--circle"/>
                        </td>
                        <td>
                            <div class="cellcontent">
                                <a href="#">test data</a>
                            </div>
                        </td>
                        <td data-th="Placed At" >
                            <div class="cellcontent">test data</div>
                        </td>
                        <td data-th="Customer Email" >
                            <div class="cellcontent">test data</div>
                        </td>
                    </tr>
                    <tr class="techne-table-xs-left techne-table-xs-right">
                        <td class="techne-table-xs-left-slot">
                            <img src="../images/cat-avatar.jpg" class="thumbnail-shape-small thumbnail-shape--circle"/>
                        </td>
                        <td>
                            <div class="cellcontent">
                                <a href="#">test data</a>
                            </div>
                        </td>
                        <td data-th="Placed At" >
                            <div class="cellcontent">test data</div>
                        </td>
                        <td data-th="Customer Email" >
                            <div class="cellcontent">test data</div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <div id="cropImageModal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Set Image</h4>
                    </div>
                    <div class="modal-body crop-img--wrapper">
                        <div class="crop-image--table">
                            <div class="crop-img--table-cell">
                                <label>Original</label>
                                <img src="" class="crop-img--source">
                                <div class="crop-img--original">
                                    <canvas id="cropCanvas" width="200" height="200"></canvas>
                                </div>
                            </div>
                            <div class="crop-img--table-cell hidden-xs">
                                <label>Preview</label>
                                <div>
                                    <canvas id="previewCanvas" class="thumbnail__img thumbnail-shape--circle"  width="150" height="150"></canvas>
                                </div>
                            </div>
                        </div>
                        <br>
                        <span>Select the area of the image that you would like to use.</span>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-subordinate" id="cancelImageUpload">Cancel</button>
                        <button type="button" class="btn btn-primary" id="submitImage">Ok</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<!-- SCRIPTS -->
<script src="../public/dist/js/jquery.min.js"></script>
<script src="../public/dist/js/bootstrap.min.js"></script>
<script src="../public/dist/js/jquery.Jcrop.min.js"></script>
<link rel="stylesheet" href="../public/dist/vendor/jquery.Jcrop.min.css">
<!-- Example of delete/upload/change of avatar -->
<script>
    $(function(){
        var hiddenImgInp = $('#imgInp'),
            loadingContainer = $('.loading-container'),
            deleteImgButton = $('#deleteImageBtn'),
            avatarPlaceholder = $('#avatar'),
            cropImageSource = $('.crop-img--source'),
            cropImageModal = $('#cropImageModal'),
            jcrop_api;
        var hideLoading = function(){
            loadingContainer.hide();
        };
        hiddenImgInp.css('display', 'none');
        loadingContainer.css('display', 'none');
        deleteImgButton.on('click', function(){
            avatarPlaceholder.css('background-image', 'url(/images/default_circle-pic.png)');
            deleteImgButton.css('display', 'none');
        });
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();

                reader.readAsDataURL(input.files[0]);
                deleteImgButton.css('display', 'inline-block');
                cropImageModal.modal('show');
                reader.addEventListener('load', function () {
                    cropImageSource.attr('src', reader.result);
                    cropImageSource.Jcrop({
                        boxWidth: 300,
                        boxHeight: 300,
                        onSelect: showPreview,
                        onChange: showPreview,
                        bgColor:     'black',
                        bgOpacity:   0.4,
                        allowSelect:    false,
                        setSelect:   [ 0, 0, 20000, 20000 ],
                        aspectRatio: 1,
                        minSize: [ 20, 20 ]
                    },function(){
                        jcrop_api = this;
                    });
                }, false);
            }else{
                hideLoading();
            }
        }
        //Part of parsing the coordinates of the croping and applying it to the preview
        var generateCroppedImage = function() {
            var canvas = document.getElementById('cropCanvas');
            var context = canvas.getContext('2d');
            var imageObj = cropImageSource.get(0);

            context.drawImage(imageObj, coords.x, coords.y, coords.w, coords.h, 0, 0, 200, 200);
            avatarPlaceholder.css('background-image','url(' + canvas.toDataURL() + ')');
            cropImageModal.modal('hide');
            hideLoading();
            setTimeout(function(){ jcrop_api.destroy() }, 1000);
        };

        var showPreview = function(coordinates) {
            coords = coordinates;
            var canvas = document.getElementById('previewCanvas');
            var context = canvas.getContext('2d');
            var imageObj = cropImageSource.get(0);

            context.drawImage(imageObj, coords.x, coords.y, coords.w, coords.h, 0, 0, 150, 150);
        };

        $('#submitImage').on('click',function(){
            generateCroppedImage();
        });
        $('#cancelImageUpload').on('click', function(){
            cropImageModal.modal('hide');
            hideLoading();
        });


        hiddenImgInp.on('change', function(){
            readURL(this);
        });
        //fake the click on default input field type="file"
        $('#uploadImageBtn').on('click', function(){
            loadingContainer.show();
            hiddenImgInp.click();
        });
    });
</script>
</body>
</html>
